let defaults = "{\"routingId\":\"4365095c07d30086\",\"rules\":[{\"name\":\"Wallpaper\",\"filterId\":\"5f27f50bb7a33b37\",\"enabled\":true,\"splittable\":true,\"splitFuture\":true,\"requiresInventory\":true,\"sendFutureImmediately\":true,\"rules\":[{\"locations\":[{\"locationId\":\"ff32420f55f470d4\"}]}]},{\"name\":\"Surfboards - Gary First\",\"filterId\":\"a42563fe17cede03\",\"enabled\":true,\"splittable\":true,\"splitFuture\":true,\"requiresInventory\":true,\"sendFutureImmediately\":false,\"rules\":[{\"filterId\":\"536a67b061f4c2de\",\"locations\":[{\"locationId\":\"d23cb115a33469c8\"},{\"locationId\":\"83f524a4e78e7b26\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"2abbbd2c7967ef92\"},{\"locationId\":\"a789dfeed982f95b\"}]},{\"filterId\":\"b837ec0c79508198\",\"locations\":[{\"locationId\":\"d23cb115a33469c8\"},{\"locationId\":\"83f524a4e78e7b26\"},{\"locationId\":\"2abbbd2c7967ef92\"},{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"}]}]},{\"name\":\"Sublime Textiles Cali First\",\"filterId\":\"dee6cb00b8ecf73e\",\"enabled\":true,\"splittable\":true,\"splitFuture\":true,\"requiresInventory\":true,\"sendFutureImmediately\":false,\"rules\":[{\"filterId\":\"b837ec0c79508198\",\"locations\":[{\"locationId\":\"4cd6868e0a316562\"},{\"locationId\":\"a2b66fea808fe506\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"2abbbd2c7967ef92\"}]}]},{\"name\":\"All Other Items\",\"enabled\":true,\"splittable\":true,\"splitFuture\":true,\"requiresInventory\":true,\"sendFutureImmediately\":true,\"rules\":[{\"filterId\":\"b837ec0c79508198\",\"locations\":[{\"locationId\":\"625331020090365f\"},{\"locationId\":\"4cd6868e0a316562\"},{\"locationId\":\"18178506eb03b55b\"},{\"locationId\":\"8b99290143c1b9c6\"},{\"locationId\":\"a2b66fea808fe506\"}]},{\"filterId\":\"536a67b061f4c2de\",\"locations\":[{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"2abbbd2c7967ef92\"}]},{\"filterId\":\"559eb70432269161\",\"locations\":[{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"2abbbd2c7967ef92\"}]},{\"filterId\":\"57ec85b343f5e83c\",\"locations\":[{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"2abbbd2c7967ef92\"}]},{\"filterId\":\"da74e898b5f75caf\",\"locations\":[{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"2abbbd2c7967ef92\"}]}]}]}";

let values = "{\"routingId\":\"4365095c07d30086\",\"rules\":[{\"name\":\"Wallpaper\",\"filterId\":\"5f27f50bb7a33b37\",\"enabled\":true,\"splittable\":true,\"splitFuture\":true,\"requiresInventory\":true,\"sendFutureImmediately\":true,\"rules\":[{\"locations\":[{\"locationId\":\"ff32420f55f470d4\"}],\"filterId\":null}]},{\"name\":\"Surfboards - Gary First\",\"filterId\":\"a42563fe17cede03\",\"enabled\":true,\"splittable\":true,\"splitFuture\":true,\"requiresInventory\":true,\"sendFutureImmediately\":false,\"rules\":[{\"filterId\":\"536a67b061f4c2de\",\"locations\":[{\"locationId\":\"d23cb115a33469c8\"},{\"locationId\":\"83f524a4e78e7b26\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"2abbbd2c7967ef92\"},{\"locationId\":\"a789dfeed982f95b\"}]},{\"filterId\":\"b837ec0c79508198\",\"locations\":[{\"locationId\":\"d23cb115a33469c8\"},{\"locationId\":\"83f524a4e78e7b26\"},{\"locationId\":\"2abbbd2c7967ef92\"},{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"}]}]},{\"name\":\"Sublime Textiles Cali First\",\"filterId\":\"dee6cb00b8ecf73e\",\"enabled\":true,\"splittable\":true,\"splitFuture\":true,\"requiresInventory\":true,\"sendFutureImmediately\":false,\"rules\":[{\"filterId\":\"b837ec0c79508198\",\"locations\":[{\"locationId\":\"4cd6868e0a316562\"},{\"locationId\":\"a2b66fea808fe506\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"2abbbd2c7967ef92\"}]}]},{\"name\":\"All Other Items\",\"enabled\":true,\"splittable\":true,\"splitFuture\":true,\"requiresInventory\":true,\"sendFutureImmediately\":true,\"rules\":[{\"filterId\":\"b837ec0c79508198\",\"locations\":[{\"locationId\":\"625331020090365f\"},{\"locationId\":\"4cd6868e0a316562\"},{\"locationId\":\"18178506eb03b55b\"},{\"locationId\":\"8b99290143c1b9c6\"},{\"locationId\":\"a2b66fea808fe506\"}]},{\"filterId\":\"536a67b061f4c2de\",\"locations\":[{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"2abbbd2c7967ef92\"}]},{\"filterId\":\"559eb70432269161\",\"locations\":[{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"2abbbd2c7967ef92\"}]},{\"filterId\":\"57ec85b343f5e83c\",\"locations\":[{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"2abbbd2c7967ef92\"}]},{\"filterId\":\"da74e898b5f75caf\",\"locations\":[{\"locationId\":\"a789dfeed982f95b\"},{\"locationId\":\"f11fbbf2c93f4cb0\"},{\"locationId\":\"9d3bc874dcd49490\"},{\"locationId\":\"2abbbd2c7967ef92\"}]}]}]}"

let defaultsParsed = JSON.parse(defaults)
// console.log(defaultsParsed);

let valuesParsed = JSON.parse(values);
// console.log(valuesParsed);

let uniqueValues = [];

const stripValues = (obj, values = [null, undefined]) => {
  for (let key in obj) {
    const value = obj[key];
    // delete if the value matches
    if (values.includes(value)) {
      delete obj[key];
      // if its an object, recursively remove values
    } else if (typeof value === 'object' && value !== null) {
      stripValues(value);
    }
  }
  return obj;
};

const newDef = stripValues(defaultsParsed);
const newVals = stripValues(valuesParsed);